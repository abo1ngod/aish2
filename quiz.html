<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุตุฉ ุงูุชูุณูุฑ | ุจูู ุงูุฃุณุฆูุฉ ุงูุดุงูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #f1f5f9; }
        .glass { background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px); }
        .correct { background-color: #10b981 !important; color: white !important; border-color: #059669 !important; }
        .wrong { background-color: #ef4444 !important; color: white !important; border-color: #dc2626 !important; }
        .timer-bar { transition: width 1s linear; }
        .option-btn:hover:not(:disabled) { transform: translateX(-5px); border-color: #6366f1; background-color: #f8fafc; }
        .lesson-card:hover { transform: translateY(-5px); border-color: #6366f1; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body class="min-h-screen text-slate-800">

    <!-- Audio -->
    <audio id="audioCorrect" src="sounds/correct.mp3" preload="auto"></audio>
    <audio id="audioWrong" src="sounds/wrong.mp3" preload="auto"></audio>

    <!-- Header -->
    <nav class="bg-white border-b sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-xl">ุช</div>
                <h1 class="text-xl font-extrabold text-slate-900">ุจูู ุงูุชูุณูุฑ ุงูุชูุงุนูู</h1>
            </div>
            <div class="flex flex-col items-end">
                <span class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">ุฅุฌูุงูู ุงูููุงุท</span>
                <span id="navScore" class="text-indigo-600 font-black text-lg">0</span>
            </div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto px-4 py-8">
        
        <!-- Home View -->
        <div id="homeView">
            <div class="bg-gradient-to-br from-indigo-700 to-blue-600 rounded-[2.5rem] p-8 md:p-12 text-white shadow-2xl mb-12 relative overflow-hidden">
                <div class="relative z-10 max-w-2xl">
                    <h2 class="text-4xl md:text-5xl font-black mb-6">ูุฑุญุจุงู ุจู ูู ุชุญุฏู ุงูุชูุณูุฑ ๐</h2>
                    <p class="text-indigo-100 text-lg mb-8 leading-relaxed">ููุตุฉ ุชุนููููุฉ ุฐููุฉ ุชุบุทู 16 ุฏุฑุณุงู ุจุฃุณุฆูุฉ ุฏูููุฉ ูุณุชุฎุฑุฌุฉ ูู ุงููุญุชูู ุงููุนุชูุฏ. ุงุฎุชุฑ ููุท ุงูุงุฎุชุจุงุฑ ุงูููุถู ูุฏูู ูุงุจุฏุฃ ุฑุญูุฉ ุงูุนูู.</p>
                    <button onclick="openTourModal()" class="bg-white text-indigo-700 px-10 py-4 rounded-2xl font-black text-xl shadow-xl hover:scale-105 transition-all">
                        ุจุฏุก ุฌููุฉ ูู ุฌููุน ุงูุฏุฑูุณ
                    </button>
                </div>
                <div class="absolute -left-10 -bottom-10 w-64 h-64 bg-white/10 rounded-full blur-3xl"></div>
            </div>

            <div class="flex items-center justify-between mb-8">
                <h3 class="text-2xl font-black flex items-center gap-3">
                    <span class="w-2 h-8 bg-indigo-600 rounded-full"></span>
                    ุงุฎุชุฑ ุฏุฑุณุงู ููุชุญุฏู
                </h3>
                <button onclick="resetData()" class="text-sm text-slate-400 hover:text-red-500 underline font-medium">ุฅุนุงุฏุฉ ุถุจุท ูุงูุฉ ุงูุจูุงูุงุช</button>
            </div>

            <div id="lessonsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Lessons Injected via JS -->
            </div>
        </div>

        <!-- Quiz View -->
        <div id="quizView" class="hidden max-w-3xl mx-auto">
            <div class="glass rounded-[3rem] shadow-2xl overflow-hidden border border-white">
                <div class="h-2 bg-slate-100 w-full overflow-hidden">
                    <div id="timerBar" class="h-full bg-indigo-500 timer-bar" style="width: 100%"></div>
                </div>

                <div class="p-8 md:p-12">
                    <div class="flex justify-between items-start mb-8">
                        <div>
                            <span id="quizTypeBadge" class="bg-indigo-100 text-indigo-700 px-4 py-1 rounded-full text-xs font-bold uppercase"></span>
                            <h4 id="currentLessonTitle" class="text-slate-500 mt-3 font-bold text-sm"></h4>
                        </div>
                        <button onclick="abortQuiz()" class="bg-slate-100 text-slate-400 hover:bg-red-50 hover:text-red-500 p-3 rounded-2xl transition-all shadow-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <div class="flex justify-between items-center mb-6">
                        <span id="questionCountText" class="text-slate-300 font-black text-3xl">01/10</span>
                    </div>

                    <h3 id="questionText" class="text-2xl md:text-3xl font-bold mb-10 text-slate-800 leading-tight"></h3>

                    <div id="optionsGrid" class="grid gap-4">
                        <!-- Options Injected -->
                    </div>

                    <div id="feedbackPanel" class="mt-8 p-5 rounded-[2rem] text-center font-bold text-lg hidden animate-pulse"></div>
                </div>
            </div>
        </div>

        <!-- Result View -->
        <div id="resultView" class="hidden text-center py-20">
            <div class="text-[120px] mb-8">๐๏ธ</div>
            <h2 class="text-5xl font-black mb-4">ุฃูููุช ุงูุชุญุฏู ุจูุฌุงุญ!</h2>
            <p id="resultText" class="text-2xl text-slate-500 mb-12"></p>
            <button onclick="location.reload()" class="bg-indigo-600 text-white px-12 py-5 rounded-[2rem] font-black text-xl shadow-2xl hover:scale-105 transition-all">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</button>
        </div>

    </main>

    <!-- Tour Modal -->
    <div id="tourModal" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] hidden items-center justify-center p-4">
        <div class="bg-white w-full max-w-md rounded-[3rem] p-10 shadow-2xl scale-up-center">
            <h3 class="text-2xl font-black mb-8">ุฅุนุฏุงุฏุงุช ุงูุฌููุฉ ุงูุดุงููุฉ โ๏ธ</h3>
            
            <div class="space-y-8">
                <div>
                    <label class="block text-sm font-bold text-slate-400 mb-4">ูู ุณุคุงูุงู ุชุฑูุฏ ูู ูุฐู ุงูุฌููุฉุ</label>
                    <div class="grid grid-cols-3 gap-3">
                        <button onclick="setTourQCount(10)" class="q-btn bg-indigo-600 text-white p-4 rounded-2xl font-bold transition-all shadow-md">10</button>
                        <button onclick="setTourQCount(20)" class="q-btn bg-slate-100 text-slate-500 p-4 rounded-2xl font-bold transition-all">20</button>
                        <button onclick="setTourQCount(50)" class="q-btn bg-slate-100 text-slate-500 p-4 rounded-2xl font-bold transition-all">50</button>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-bold text-slate-400 mb-4">ููุช ุงูุชูููุฑ ููู ุณุคุงู (ุซุงููุฉ):</label>
                    <div class="grid grid-cols-3 gap-3">
                        <button onclick="setTourTimer(15)" class="t-btn bg-slate-100 text-slate-500 p-4 rounded-2xl font-bold transition-all">15</button>
                        <button onclick="setTourTimer(30)" class="t-btn bg-indigo-600 text-white p-4 rounded-2xl font-bold transition-all shadow-md">30</button>
                        <button onclick="setTourTimer(60)" class="t-btn bg-slate-100 text-slate-500 p-4 rounded-2xl font-bold transition-all">60</button>
                    </div>
                </div>

                <div class="flex gap-4 pt-4">
                    <button onclick="startTourMode()" class="flex-1 bg-indigo-600 text-white py-5 rounded-[2rem] font-black text-lg shadow-xl hover:bg-indigo-700">ุงูุทูู ุงูุขู</button>
                    <button onclick="closeTourModal()" class="px-8 bg-slate-100 text-slate-400 py-5 rounded-[2rem] font-bold">ุฅูุบุงุก</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- REAL QUESTION BANK DATA FROM asd.txt ---
        const lessonTitles = [
            "ุงูุชุนุฑูู ุจุนูู ุงูุชูุณูุฑ ููุดุฃุชู", "ุฃูููุฉ ุนูู ุงูุชูุณูุฑ ูุถูุงุจุทู", "ุฃุจุฑุฒ ุงููุคููุงุช ุงูููุซููุฉ ูู ุงูุชูุณูุฑ", "ุงูุชูููุฉ ูู ุฎุฏูุฉ ุงููุฑุขู ุงููุฑูู ูุชูุณูุฑู",
            "ุชูุณูุฑ ุณูุฑุฉ ุงููุงุชุญุฉ", "ุชูุณูุฑ ุณูุฑุฉ ูููุณ (3-10)", "ุชูุณูุฑ ุณูุฑุฉ ูููุณ (26-33)", "ุชูุณูุฑ ุณูุฑุฉ ูููุณ (62-70)",
            "ุชูุณูุฑ ุณูุฑุฉ ููุฏ (96-108)", "ุชูุณูุฑ ุณูุฑุฉ ููุฏ (112-123)", "ุชูุณูุฑ ุณูุฑุฉ ููุณู (46-57)", "ุชูุณูุฑ ุณูุฑุฉ ููุณู (102-111)",
            "ุชูุณูุฑ ุณูุฑุฉ ุงูุฑุนุฏ (8-15)", "ุชูุณูุฑ ุณูุฑุฉ ุงูุฑุนุฏ (19-29)", "ุชูุณูุฑ ุณูุฑุฉ ุฅุจุฑุงููู (24-31)", "ุชูุณูุฑ ุณูุฑุฉ ุฅุจุฑุงููู (42-52)"
        ];

        const fullBank = [];

        const rawData = [
            // Lesson 1
            {
                mcq: [
                    {q: "ูุฏูุฑ ูุนูู ุงูุชูุณูุฑ ูู 'ุงููุบุฉ' ุญูู:", o: ["ุงูุญูุธ ูุงูุชุฑุชูู", "ุงููุดู ูุงูุจูุงู ูุงูุฅูุถุงุญ", "ุงูุฌูุน ูุงูุชุฏููู", "ุงูุชุฃููู ูุงูุธู"], c: 1},
                    {q: "ูู ุนูุฏ ุงููุจู ๏ทบุ ูุณุฑ ุงููุจู 'ุงูุธูู' ุงููุงุฑุฏ ูู ุณูุฑุฉ ุงูุฃูุนุงู ุจู:", o: ["ุงููุฐุจ", "ุงูุณุฑูุฉ", "ุงูุดุฑู", "ุงููุชู"], c: 2},
                    {q: "ุชููุฒ ูููุฌ ุงูุตุญุงุจุฉ ูู ุชููู ุงููุฑุขู ุจุฃููู ูุง ูุชุฌุงูุฒูู:", o: ["ุฎูุณ ุขูุงุช", "ุณุจุน ุขูุงุช", "ุนุดุฑ ุขูุงุช", "ุณูุฑุฉ ูุงููุฉ"], c: 2},
                    {q: "ุจุฏุฃุช ูุฑุญูุฉ 'ุงููุชุงุจุฉ ูุงูุชุฏููู' ุฃููุงู ูุฌุฒุก ูู ุฃุจูุงุจ:", o: ["ุงููุบุฉ ุงูุนุฑุจูุฉ", "ุงูุญุฏูุซ ุงููุจูู", "ุงูููู ุงูุฅุณูุงูู", "ุงูุชุงุฑูุฎ ูุงูุณูุฑ"], c: 1},
                    {q: "ุงูุชูุณูุฑ ุงูุฐู ูุนุชูุฏ ุนูู ุงูุงุฌุชูุงุฏ ุงููุจูู ุนูู ุนูู ููุณูู ุงูุชูุณูุฑ ุจุงูุฑุฃู:", o: ["ุงููุฐููู", "ุงููุฃุซูุฑ", "ุงููุญููุฏ", "ุงููุบูู"], c: 2}
                ],
                tf: [
                    {q: "ุงูุชูุณูุฑ ูู ุงูุงุตุทูุงุญ ุงูุดุฑุนู ูู ุงูุนูู ุงูุฐู ููุนูู ุจุจูุงู ูุนุงูู ุงููุฑุขู ุงููุฑูู.", c: true},
                    {q: "ุชุนุชุจุฑ ูุฑุญูุฉ 'ุงูููู ูุงูุชููู' ูู ุงููุฑุญูุฉ ุงูุซุงููุฉ ูู ูุฑุงุญู ูุดุฃุฉ ุงูุชูุณูุฑ.", c: false},
                    {q: "ูุงู ุงุจู ุฌุฑูุฑ ุงูุทุจุฑู ูู ุฃุจุฑุฒ ูู ุฏูู ุงูุชูุณูุฑ ูุนูู ูุณุชูู ุณูุฑุฉ ุณูุฑุฉ.", c: true},
                    {q: "ุงูุชูุณูุฑ ุจุงููุฃุซูุฑ ูุนุชูุฏ ุนูู ุงููุฑุขู ูุงูุณูุฉ ูุฃููุงู ุงูุตุญุงุจุฉ ูุงูุชุงุจุนูู.", c: true},
                    {q: "ุงูุชูุณูุฑ ุจุงูุฑุฃู ุงููุฐููู ูู ุงูุงุฌุชูุงุฏ ุงููุจูู ุนูู ููุงุนุฏ ุงููุบุฉ ูุงูุนูู.", c: false}
                ]
            },
            // Lesson 2
            {
                mcq: [
                    {q: "ูุณุชูุฏ ุนูู ุงูุชูุณูุฑ ุดุฑูู ูููุงูุชู ูู ุดุฑู ููุถูุนู ููู:", o: ["ุชุงุฑูุฎ ุงูุฃูู", "ููุงู ุงููู ุชุนุงูู", "ุฃุญุงุฏูุซ ุงููุจู", "ุงููุบุฉ ุงูุนุฑุจูุฉ"], c: 1},
                    {q: "ุฃูู ุถูุงุจุท ุงูููุณุฑ ุงูุชู ุชููุนู ูู ุชุญุฑูู ุงููุนุงูู ูุชูุงูู ููุงู ูู:", o: ["ูุนุฑูุฉ ุงูุชุงุฑูุฎ", "ุณูุงูุฉ ุงูุนููุฏุฉ", "ููุฉ ุงูุญูุธ", "ุงูุฅููุงู ุจุงูุดุนุฑ"], c: 1},
                    {q: "ุฃุตุญ ุทุฑู ุงูุชูุณูุฑ ุจุงูุชุฑุชูุจ ุชุจุฏุฃ ุจู:", o: ["ุชูุณูุฑ ุงููุฑุขู ุจุงูุณูุฉ", "ุชูุณูุฑ ุงููุฑุขู ุจุฃููุงู ุงูุตุญุงุจุฉ", "ุชูุณูุฑ ุงููุฑุขู ุจุงููุฑุขู", "ุชูุณูุฑ ุงููุฑุขู ุจุงููุบุฉ"], c: 2},
                    {q: "ูููู ุชุนุงูู {ุฐููู ุฅูููููู ุฃููุชู ุงููุนูุฒููุฒู ุงููููุฑูููู}ุ ููููู ูุนูุงู ุงูุญูููู ูู ุฎูุงู:", o: ["ููุฑุฏุงุช ุงููููุงุช ููุท", "ุณูุงู ุงูุขูุฉ", "ุฃุณุจุงุจ ุงููุฒูู ููุท", "ููุงุนุฏ ุงููุญู"], c: 1},
                    {q: "ููุณุฑ ุงููุฑุขู ุจุงูุณูุฉ ุงููุจููุฉ ูุฃู ุงููุจู ๏ทบ ูู:", o: ["ูุงุชุจ ุงููุญู", "ุงููุจูู ูููุฑุขู", "ุฃูู ูู ุฌูุน ุงููุฑุขู", "ุฃุนูู ุงููุงุณ ุจุงููุบุฉ ูุญุฏู"], c: 1}
                ],
                tf: [
                    {q: "ุงูุชุฏุจุฑ ูู ุงูุบุงูุฉ ุงูุฃุณุงุณูุฉ ูู ุฅูุฒุงู ุงููุฑุขู ุงููุฑูู.", c: true},
                    {q: "ูุฌูุฒ ุชูุฏูู ููู ุงูุชุงุจุนู ูู ุงูุชูุณูุฑ ุนูู ููู ุงูุตุญุงุจู.", c: false},
                    {q: "ุฅููุงู ุงูุณูุงู ูุฏ ูุคุฏู ุฅูู ููู ูุงุตุฑ ุฃู ูุบููุท ููุขูุงุช.", c: true},
                    {q: "ููุชูู ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุญุฏูุง ูุชูุณูุฑ ุงููุฑุขู ุฏูู ุงูุญุงุฌุฉ ูููุตุงุฏุฑ ุงูุดุฑุนูุฉ.", c: false},
                    {q: "ูุนุชุจุฑ ุชูุณูุฑ ุงููุฑุขู ุจุฃููุงู ุงูุตุญุงุจุฉ ุซุงูุซ ุฃุตุญ ุทุฑู ุงูุชูุณูุฑ.", c: true}
                ]
            },
            // Lesson 3
            {
                mcq: [
                    {q: "ุงูุฅูุงู ุงูุฐู ููููุจ ุจู 'ุดูุฎ ุงูููุณุฑูู' ูู:", o: ["ุงุจู ูุซูุฑ", "ุงูุณููุทู", "ุงูุทุจุฑู", "ุงูุณุนุฏู"], c: 2},
                    {q: "ูุชููุฒ ุชูุณูุฑ 'ุชูุณูุฑ ุงููุฑูู ุงูุฑุญูู' ููุนูุงูุฉ ุงูุณุนุฏู ุจู:", o: ["ุฐูุฑ ุงูุฃุณุงููุฏ ุงูุทูููุฉ", "ุงูุชุฑููุฒ ุนูู ุงููุณุงุฆู ุงููุญููุฉ", "ุงูุณูููุฉ ูุงุณุชูุจุงุท ุงูููุงุฆุฏ ุงูุชุฑุจููุฉ", "ุฐูุฑ ุงูุฑูุงูุงุช ุงูุฅุณุฑุงุฆูููุฉ"], c: 2},
                    {q: "ุงููุชุงุจ ุงูุฐู ููุนุฏ ููุณูุนุฉ ุญุฏูุซูุฉ ุฌูุนุช ุงูุฑูุงูุงุช ุงููููููุฉ ูู ุงูุชูุณูุฑ ูู:", o: ["ุฃุถูุงุก ุงูุจูุงู", "ุงูุฏุฑ ุงูููุซูุฑ", "ุชูุณูุฑ ุงููุฑุขู ุงูุนุธูู", "ุฌุงูุน ุงูุจูุงู"], c: 1},
                    {q: "ุชููุฒ ุชูุณูุฑ 'ุฃุถูุงุก ุงูุจูุงู' ููุดูููุทู ุจุจุฑุงุนุชู ูู:", o: ["ุงููุตุต ุงูุชุงุฑูุฎูุฉ", "ุงูุฃุญูุงู ุงูููููุฉ ูุงููุณุงุฆู ุงูุฃุตูููุฉ", "ุงูุงุฎุชุตุงุฑ ุงูุดุฏูุฏ ุฌุฏุงู", "ุงูุชูุณูุฑ ุจุงูุฑุฃู ุงููุฐููู"], c: 1},
                    {q: "ุงููููุฌ ุงูุฐู ุงุชุจุนู ุงุจู ูุซูุฑ ูู ุชูุณูุฑู ูู ุงูุจุฏุก ุจู:", o: ["ุชูุณูุฑ ุงูุขูุฉ ุจุงูุญุฏูุซ", "ุชูุณูุฑ ุงูุขูุฉ ุจุฃููุงู ุงูุชุงุจุนูู", "ุชูุณูุฑ ุงูุขูุฉ ุจุงูุขูุฉ", "ุชูุณูุฑ ุงูุขูุฉ ุจุงููุบุฉ"], c: 2}
                ],
                tf: [
                    {q: "ูุนุชุจุฑ ูุชุงุจ ุงูุทุจุฑู ุฃุตุญ ุงูุชูุงุณูุฑ ูุฃุฌูุนูุง.", c: true},
                    {q: "ูุชุงุจ 'ุชูุณูุฑ ุงููุฑุขู ุงูุนุธูู' ูุงุจู ูุซูุฑ ูุนุชูุฏ ุนูู ุงูุชูุณูุฑ ุจุงูุฑุฃู ููุท.", c: false},
                    {q: "ูุชููุฒ ุชูุณูุฑ ุงูุณุนุฏู ุจุฎููู ูู ุงูุชุนููุฏ ูุชุฑููุฒู ุนูู ุงููุนูู ุงูุฅุฌูุงูู.", c: true},
                    {q: "ุงูุดูููุทู ูู 'ุฃุถูุงุก ุงูุจูุงู' ูุฑูุฒ ุจุดูู ุฃุณุงุณู ุนูู ุชูุณูุฑ ุงููุฑุขู ุจุงููุฑุขู.", c: true},
                    {q: "ูุชุงุจ ุงูุณููุทู 'ุงูุฏุฑ ุงูููุซูุฑ' ูุบูุจ ุนููู ุงูุทุงุจุน ุงูุนููู ูุงูุงุฌุชูุงุฏู.", c: false}
                ]
            },
            // Lesson 4
            {
                mcq: [
                    {q: "ุงูุชุทุจูู ุงูุฑุณูู ุงูุฐู ูุฑุจุท ุงูุทุงูุจ ุจูููุฌู ุงูุฏุฑุงุณู ูุชุดุฑู ุนููู ูุฒุงุฑุฉ ุงูุชุนููู ูู:", o: ["ุขูุงุช", "ูุตุญู ูุฏุฑุณุชู", "ุงูุจุงุญุซ ุงููุฑุขูู", "ููู"], c: 1},
                    {q: "ุฃูุดุฃ ูุฌูุน ุงูููู ููุฏ ูุทุจุงุนุฉ ุงููุตุญู ุงูุดุฑูู ูุฎุฏูุฉ ุงููุฑุขู ุฑูููุงู:", o: ["5 ููุงูุน", "10 ููุงูุน", "16 ูููุนุงู", "20 ูููุนุงู"], c: 2},
                    {q: "ุชุทุจูู 'ุขูุงุช' ุงูุดุงูู ูู ุจุฑูุงูุฌ ุชุงุจุน ูู:", o: ["ุฌุงูุนุฉ ุงูููู ุณุนูุฏ", "ูุฒุงุฑุฉ ุงูุฅุนูุงู", "ูุฌูุน ุงูููู ููุฏ", "ุฌุงูุนุฉ ุฃู ุงููุฑู"], c: 0},
                    {q: "ุชุชูุญ ุงูููุงูุน ุงูุฑุณููุฉ ุงูููุซููุฉ ุงูุญุตูู ุนูู:", o: ["ุชุฑุฌูุงุช ูุนุชูุฏุฉ ููุนุงูู ุงููุฑุขู", "ุชูุณูุฑ ูุฌููู ุงููุตุฏุฑ", "ุขุฑุงุก ุดุฎุตูุฉ ุบูุฑ ุนูููุฉ", "ูุตุต ุบูุฑ ุซุงุจุชุฉ"], c: 0},
                    {q: "ุงููุฏู ูู ุชูุฌูู ุงูุทูุงุจ ููุตุงุฏุฑ ุชูููุฉ ูุนููุฉ ูู:", o: ["ุตุนูุจุฉ ุงููุชุจ ุงููุฑููุฉ", "ุชุญุฑู ุงูููุซูููุฉ ูุถูุงู ุงูุนูู ุงูุตุญูุญ", "ุงูุณุฑุนุฉ ููุท ุฏูู ุงูุชุซุจุช", "ุงูุงุณุชุบูุงุก ุนู ุงููุนูู"], c: 1}
                ],
                tf: [
                    {q: "ุชุทุจูู 'ูุตุญู ูุฏุฑุณุชู' ูุชูุญ ููุทุงูุจ ุชุณุฌูู ุตูุชู ูุฅุฑุณุงูู ูููุนูู.", c: true},
                    {q: "ูู ูุง ูููุดุฑ ุนูู ุงูุฅูุชุฑูุช ูู ุชูุงุณูุฑ ูููุฑุขู ููุนุฏ ูุฑุฌุนุงู ุตุญูุญุงู.", c: false},
                    {q: "ููุฏู ูุฌูุน ุงูููู ููุฏ ุชุทุจููุงุช ุชูุฏู ูุณุฎุงู ุฑูููุฉ ุนุงููุฉ ุงูุฏูุฉ ูููุตุญู.", c: true},
                    {q: "ุจุฑูุงูุฌ 'ุขูุงุช' ูุง ูุญุชูู ุนูู ููุชุจุฉ ุชูุงุณูุฑ ุจู ุชูุงูุงุช ููุท.", c: false},
                    {q: "ุชุณุงูู ุงูุชูููุฉ ุงูุญุฏูุซุฉ ูู ุชูุณูุฑ ุงููุตูู ููุชุจ ุงูุชูุณูุฑ ุงูููุซููุฉ.", c: true}
                ]
            },
            // Lesson 5
            {
                mcq: [
                    {q: "ูุนูู ูููุฉ 'ุฑุจ' ูู (ุฑุจ ุงูุนุงูููู) ุชุฏู ุนูู:", o: ["ุงูุตุงุญุจ", "ุงููุฑุจู ูุงููุงูู ูุงูุฎุงูู", "ุงูููู ููุท", "ุงููุนูู"], c: 1},
                    {q: "'ุงูุงุณุชุนุงูุฉ' ูู ูููู {ุฅููููุงูู ููุนูุจูุฏู ููุฅููููุงูู ููุณูุชูุนูููู} ุชูุนุชุจุฑ:", o: ["ุบุงูุฉ", "ูุณููุฉ ูุชุญููู ุงูุนุจุงุฏุฉ", "ูุฑุถ ููุงูุฉ", "ูุฌุฑุฏ ููู ุจุงููุณุงู"], c: 1},
                    {q: "ุงูุตูู ุงูุฐู ูุตููู ุงููู ุจุงูุถุงููู ูู ุงูุฐูู ุนุจุฏูุง ุงููู ุจุฌูู ููู:", o: ["ุงููููุฏ", "ุงููุตุงุฑู", "ุงููุดุฑููู", "ุงูููุงูููู"], c: 1},
                    {q: "'ููู ุงูุฏูู' ุงููุฐููุฑ ูู ุงูุณูุฑุฉ ููุตุฏ ุจู:", o: ["ููู ุงูุฌูุนุฉ", "ููู ุงูุฌุฒุงุก ูุงูุญุณุงุจ", "ููู ุงููุชุญ", "ููู ุงููุญุฑ"], c: 1},
                    {q: "ุชูุณูู ุณูุฑุฉ ุงููุงุชุญุฉ ุจู 'ุงูุฑููุฉ' ูุฃููุง:", o: ["ูุตูุฑุฉ", "ูููุง ุดูุงุก ุจุฅุฐู ุงููู", "ุฃูู ุณูุฑุฉ ูู ุงููุตุญู", "ููุฑุคูุง ุงููุงุณ ูุซูุฑุงู"], c: 1}
                ],
                tf: [
                    {q: "ุณูุฑุฉ ุงููุงุชุญุฉ ุณูุฑุฉ ูุฏููุฉ ูุขูุงุชูุง ุณุจุน.", c: false},
                    {q: "ุงูุนุจุงุฏุฉ ุงูุญููููุฉ ุชุชุถูู ููุงู ุงูุญุจ ูุน ููุงู ุงูุฐู ููู ุชุนุงูู.", c: true},
                    {q: "ุงููุบุถูุจ ุนูููู ูู ุงูุฐูู ุนุฑููุง ุงูุญู ูุชุฑููู ุนูุฏุงู.", c: true},
                    {q: "ูุฑุงุกุฉ ุงููุงุชุญุฉ ููุณุช ูุงุฌุจุฉ ูู ูู ุฑูุนุฉ ูู ุฑูุนุงุช ุงูุตูุงุฉ.", c: false},
                    {q: "ุงููุงุชุญุฉ ูู ุฃุณุงุณ ุงูููุงุฌุงุฉ ุจูู ุงูุนุจุฏ ูุฑุจู ูู ุงูุตูุงุฉ.", c: true}
                ]
            },
            // Lesson 6
            {
                mcq: [
                    {q: "ุฎูู ุงููู ุงูุณูุงูุงุช ูุงูุฃุฑุถ ูู ุณุชุฉ ุฃูุงู ุซู:", o: ["ูุฒู ุฅูู ุงูุณูุงุก", "ุงุณุชูู ุนูู ุงูุนุฑุด", "ุฎูู ุงูููุงุฆูุฉ", "ุฃูุฑ ุงูููุฑ ุจุงูุฎุฑูุฌ"], c: 1},
                    {q: "ุฌุนู ุงููู ุงูููุฑ 'ููุฑุงู' ููุฏุฑู ููุงุฒู ูุงูุญููุฉ ูู ุฐูู:", o: ["ุฒููุฉ ููุณูุงุก ููุท", "ูุชุนูููุง ุนุฏุฏ ุงูุณููู ูุงูุญุณุงุจ", "ูุฑุงุญุฉ ุงููุงุณ ูู ุงูููู", "ููุถูุก ููุดูุณ"], c: 1},
                    {q: "ุฌุฒุงุก ุงููุคูููู ุงูุฐูู ูุนูููู ุงูุตุงูุญุงุช ููุง ุฐูุฑุช ุงูุขูุงุช ูู:", o: ["ุงูุฑุฒู ูู ุงูุฏููุง ููุท", "ุฌูุงุช ุงููุนูู", "ุงูููู ูุงูุณูุทุงู", "ุทูู ุงูุนูุฑ"], c: 1},
                    {q: "ูุตู ุงููู ุงูุฐูู ุฑุถูุง ุจุงูุญูุงุฉ ุงูุฏููุง ูุงุทูุฃููุง ุจูุง ููุณูุง ุงูุขุฎุฑุฉ ุจู:", o: ["ุงูุตุงุจุฑูู", "ุงูุบุงูููู", "ุงูููุชุตุฏูู", "ุงููุณุชุบูุฑูู"], c: 1},
                    {q: "ุงูุดูุงุนุฉ ุนูุฏ ุงููู ููู ุงูููุงูุฉ ูุง ุชููู ุฅูุง:", o: ["ููููู ูุงููุดููุฑ", "ูู ุจุนุฏ ุฅุฐูู ุณุจุญุงูู", "ููู ูู ุทูุจูุง", "ุจููุงููุฉ ุงูุฃูุจูุงุก ูุญุฏูู"], c: 1}
                ],
                tf: [
                    {q: "ุฏุนุงุก ุฃูู ุงูุฌูุฉ ูู ุงูุฌูุฉ ูุจุฏุฃ ุจุงูุชุณุจูุญ ูููุชูู ุจุงูุญูุฏ.", c: true},
                    {q: "ุฎูู ุงููู ุงูููู ุนุจุซุงู ููุง ุญููุฉ ูู ุชูุฏูุฑ ุญุฑูุฉ ุงูููุฑ.", c: false},
                    {q: "ุฅุซุจุงุช ุงูุจุนุซ ูุงูุฌุฒุงุก ูู ุงูููุงุตุฏ ุงูุนุธููุฉ ูู ุณูุฑุฉ ูููุณ.", c: true},
                    {q: "ุชุญูุฉ ุฃูู ุงูุฌูุฉ ูููุง ุจูููู ูู 'ุงูุณูุงู'.", c: true},
                    {q: "ุงูุงุณุชูุงุก ุนูู ุงูุนุฑุด ูู ุตูุงุช ุงููู ุงูุซุงุจุชุฉ ูู ุงููุฑุขู.", c: true}
                ]
            },
            // Lesson 7
            {
                mcq: [
                    {q: "ูุณูุฑ ุงููุจู ๏ทบ 'ุงูุฒูุงุฏุฉ' ูู ูููู {ููููููุฐูููู ุฃูุญูุณููููุง ุงููุญูุณูููููฐ ููุฒููุงุฏูุฉู} ุจู:", o: ["ูุซุฑุฉ ุงูุฃุจูุงุก", "ุงููุธุฑ ุฅูู ูุฌู ุงููู ุงููุฑูู", "ูุตูุฑ ูู ุฐูุจ", "ุฃููุงุฑ ูู ุนุณู"], c: 1},
                    {q: "ูุฌูู ุฃูู ุงููุงุฑ ููู ุงูููุงูุฉ ูุบุดุงูุง 'ุงููุชุฑ' ููู:", o: ["ุงูููุฑ ูุงูุถูุงุก", "ุงูุณูุงุฏ ูุงูุบุจุงุฑ ูุงูุฐูุฉ", "ุงูุฌูุงู ูุงูุจูุฌุฉ", "ุงูุถุญู ูุงูุณุฑูุฑ"], c: 1},
                    {q: "ุนูุฏ ุงูุญุดุฑุ ูุชุจุฑุฃ ุงูุดุฑูุงุก (ุงูุขููุฉ ุงููุฒุนููุฉ) ูู ุนุงุจุฏููู ููุญุฏุซ ุจูููู:", o: ["ุงูุตูุญ", "ุงูุชุฒููู (ุงูุชูุฑูู)", "ุงูููุฏุฉ", "ุงูุฏูุงุน"], c: 1},
                    {q: "ุงูุญุฌุฉ ุงูุชู ุงุณุชุฎุฏููุง ุงููู ุถุฏ ุงููุดุฑููู ูู ุฅูุฑุงุฑูู ุจู:", o: ["ุชูุญูุฏ ุงูุฑุจูุจูุฉ", "ุตุฏู ุงูุฃูุจูุงุก", "ูุถู ุงูุตุฏูุฉ", "ุชุญุฑูู ุงูุฎูุฑ"], c: 0},
                    {q: "ุฌุฒุงุก ุงูุฐูู ูุณุจูุง ุงูุณูุฆุงุช ูู ุงูุขุฎุฑุฉ ูููู:", o: ["ุจูุซููุง ุนุฏูุงู ูู ุงููู", "ุจุถุนููุง ุธููุงู", "ุจุงููุบูุฑุฉ ุจุฏูู ุชูุจุฉ", "ุจุงูุฌุงู ูุงูุณูุทุงู"], c: 0}
                ],
                tf: [
                    {q: "ุชูุญูุฏ ุงูุฑุจูุจูุฉ ูุณุชูุฒู ูููุฌุจ ุชูุญูุฏ ุงูุฃููููุฉ.", c: true},
                    {q: "ุงููุดุฑููู ูุงููุง ูููุฑูู ุฃู ุงููู ูู ุงูุฑุงุฒู ููุฏุจุฑ ุงูุฃูุฑ.", c: false},
                    {q: "ูุฌูู ุงููุญุณููู ููู ุงูููุงูุฉ ูุง ูุฑูููุง ูุชุฑ ููุง ุฐูุฉ.", c: true},
                    {q: "ุงูุฃุตูุงู ุณุชุดูุน ูุนุงุจุฏููุง ูุชุฌุงุฏู ุนููู ููู ุงูููุงูุฉ.", c: false},
                    {q: "ุงูุฌุฒุงุก ูู ุฌูุณ ุงูุนูู ูุงุนุฏุฉ ุชุธูุฑ ูู ูุตูุฑ ุงููุญุณููู ูุงููุณูุฆูู.", c: true}
                ]
            },
            // Lesson 8
            {
                mcq: [
                    {q: "ุงูุตูุงุช ุงูุชู ุชุฌุนู ุงูุนุจุฏ ูู 'ุฃูููุงุก ุงููู' ูู:", o: ["ุงูุบูู ูุงูููุฉ", "ุงูุฅููุงู ูุงูุชููู", "ุงูุดูุฑุฉ ูุงูููุตุจ", "ุงูุงูุนุฒุงู ุนู ุงููุงุณ"], c: 1},
                    {q: "'ุงูุจุดุฑู' ูุฃูููุงุก ุงููู ูู ุงูุญูุงุฉ ุงูุฏููุง ุชููู ุนู ุทุฑูู:", o: ["ุงููุงู ุงููุซูุฑ", "ุงูุฑุคูุง ุงูุตุงูุญุฉ ูุงูุซูุงุก ุงูุญุณู", "ุงููุตุฑ ุจูุง ุฌูุฏ", "ุนุฏู ุงูุงุจุชูุงุก"], c: 1},
                    {q: "ููู ุงููู ุนู ููุณู ุงุชุฎุงุฐ ุงูููุฏ ูุนูุชูู ููุง:", o: ["ุงูููุฉ ูุงูุนูู", "ุงูุบูู ูุงูููู", "ุงูุฑุญูุฉ ูุงููุบูุฑุฉ", "ุงูุฎูู ูุงูุฑุฒู"], c: 1},
                    {q: "ุงูููุตูุฏ ุจูููุฉ 'ุณูุทุงู' ูู ูููู {ุฅููู ุนููุฏูููู ูููู ุณูููุทูุงูู ุจูููุฐูุง}:", o: ["ููุฉ ุนุณูุฑูุฉ", "ุญุฌุฉ ูุฏููู ุนููู", "ููู ูุฌุงู", "ุณุญุฑ ูุฎูุงู"], c: 1},
                    {q: "ุฌุนู ุงููู ุงูููุงุฑ 'ูุจุตุฑุงู' ูุงูุญููุฉ ูู ุฐูู:", o: ["ููููู ูุงูุฑุงุญุฉ", "ููุณุนู ูุงูุนูู ูุงููุณุจ", "ุงูุชููุฑ ูู ุงููุฌูู", "ููุณูู ูุงููุฏูุก"], c: 1}
                ],
                tf: [
                    {q: "ุฃูููุงุก ุงููู ูุง ุฎูู ุนูููู ูููุง ูุณุชูุจููู ููุง ูุญุฒููู ุนูู ูุง ูุงุช.", c: true},
                    {q: "ูุฌูุฒ ูููุจู ๏ทบ ูุงููุคูููู ุงูุญุฒู ุงูุฐู ูุคุฏู ูููุฃุณ ูู ููุฑ ุงููุงุณ.", c: false},
                    {q: "ุงูุนุฒุฉ ุฌููุนุงู ููู ูุญุฏู ูุทูุจูุง ุงูุนุจุฏ ุจุทุงุนุชู.", c: true},
                    {q: "ูุชุงุน ุงูููุงุฑ ูู ุงูุฏููุง ุฏุงุฆู ููุง ูููุทุน.", c: false},
                    {q: "ุงูููุงูุฉ ุฏุฑุฌุฉ ุชููุงู ุจุงููุฑุงุซุฉ ูููุณ ุจุงูุนูู ุงูุตุงูุญ.", c: false}
                ]
            },
            // Lesson 9
            {
                mcq: [
                    {q: "ุฃุฑุณู ุงููู ููุณู ุนููู ุงูุณูุงู ุฅูู ูุฑุนูู ุจู 'ุณูุทุงู ูุจูู' ุฃู:", o: ["ุฌูุด ุนุธูู", "ุญุฌุฉ ูุงุถุญุฉ ูุขูุงุช ุจููุฉ", "ุฃููุงู ูุซูุฑุฉ", "ูุชุจ ุชุงุฑูุฎูุฉ"], c: 1},
                    {q: "ูุดูุฏ 'ููููุฏููู ูููููููู' ููู ุงูููุงูุฉ ูุนุจุฑ ุนู ูุฑุนูู ููู:", o: ["ููุฑุจ ูู ูููู", "ูููุฏูู ุฅูู ุงููุงุฑ ููุง ูุงุฏูู ููุถูุงู", "ูุฏุงูุน ุนููู", "ูุทูุจ ููู ุงููุบูุฑุฉ"], c: 1},
                    {q: "ุงููุฑู ุงูุชู ุฃุฎุฐูุง ุงููู ูุตุงุฑุช 'ุญุตูุฏุงู' ุชุนูู ุฃููุง:", o: ["ุจููุช ุขุซุงุฑูุง ูุงุฆูุฉ", "ููุญูุช ุชูุงูุงู ูุงูุฒุฑุน ุงููุญุตูุฏ", "ุฃุตุจุญุช ุฌูุงุช ุฎุถุฑุงุก", "ุงุฑุชูุนุช ุฌุฏุฑุงููุง"], c: 1},
                    {q: "ุฃุตูุงุช ุฃูู ุงููุงุฑ ูู ุดุฏุฉ ุงููุฑุจ ูู ุงูุฒููุฑ ูุงูุดูููุ ููุนูู 'ุงูุดููู':", o: ["ุฅุฎุฑุงุฌ ุงูููุณ", "ุฑุฏ ุงูููุณ ูุตุนูุฏู", "ุงูุตูุช ุงูุทููู", "ุงูุถุญู ุงูุนุงูู"], c: 1},
                    {q: "ูุตู ุงููู ุนุทุงุก ุฃูู ุงูุฌูุฉ ุจุฃูู 'ุบูุฑ ูุฌุฐูุฐ' ุฃู:", o: ["ุบูุฑ ูุนุฑูู", "ุบูุฑ ููุทูุน ููุง ููููุต", "ูููู ุฌุฏุงู", "ููุชูู ุจุนุฏ ุฒูู"], c: 1}
                ],
                tf: [
                    {q: "ุธูู ุงููู ุงูุฃูู ุงูุณุงุจูุฉ ุญูู ุฃููููู ุจุงูุดุฑู.", c: false},
                    {q: "ููู ุงูููุงูุฉ ูู 'ููู ูุดููุฏ' ูุฌูุน ุงููู ููู ุงูุฃูููู ูุงูุขุฎุฑูู.", c: true},
                    {q: "ูููุณู ุงููุงุณ ููู ุงูููุงูุฉ ุฅูู ุซูุงุซ ูุฑู: ุดูู ูุณุนูุฏ ููุญุงูุฏ.", c: false},
                    {q: "ุงุชุจุงุน ูุงุฏุฉ ุงูุณูุก ูุคุฏู ุฅูู ุงูููุงู ูู ุงูุฏููุง ูุงูุขุฎุฑุฉ.", c: true},
                    {q: "ูุง ุชุชููู ููุณ ููู ุงูููุงูุฉ ุฅูุง ุจุฅุฐู ุงููู ุนุฒ ูุฌู.", c: true}
                ]
            },
            // Lesson 10
            {
                mcq: [
                    {q: "ุฃูุฑ ุงููู ูุจูู ููู ุชุงุจ ูุนู ุจู 'ุงูุงุณุชูุงูุฉ' ููู:", o: ["ุงูููู ููููุงู ููุณุงุฑุงู", "ุงูุซุจุงุช ุนูู ุงูุฏูู ุจูุง ุบูู ููุง ุชูุตูุฑ", "ุชุฑู ุงูุฏููุง ุชูุงูุงู", "ุงุชุจุงุน ุงูููู"], c: 1},
                    {q: "ููู ุงููู ุนู 'ุงูุฑููู' ุฅูู ุงูุธุงููููุ ููุนูุงู:", o: ["ูุชุงููู ุจุงูุณูู", "ุงูููู ุฅูููู ุจุงูููุฏุฉ ุฃู ุงููุฏุงููุฉ ูุงูุฑุถุง ุจูุนููู", "ุฏุนูุชูู ููุฅุณูุงู", "ูุตูุญุชูู ุณุฑุงู"], c: 1},
                    {q: "ุงููุงุนุฏุฉ ุงููุฑุขููุฉ {ุฅูููู ุงููุญูุณูููุงุชู ููุฐูููุจููู ุงูุณูููููุฆูุงุชู} ุชุนูู ุฃู:", o: ["ุงูุณูุฆุฉ ุชูุญู ุงูุญุณูุฉ", "ุงูุฃุนูุงู ุงูุตุงูุญุฉ ุชููุฑ ุงูุฐููุจ ุงูุตุบุงุฆุฑ", "ุงูุฅูุณุงู ูุง ูุฐูุจ ุฃุจุฏุงู", "ุงูุตูุงุฉ ูุง ุชุฒูุฏ ุงูุญุณูุงุช"], c: 1},
                    {q: "ุงูุบุงูุฉ ูู ุฐูุฑ ูุตุต ุงูุฑุณู ูู ุงููุฑุขู ุงููุฑูู ูู:", o: ["ุงูุชุณููุฉ ูุงููุตุต ุงูุชุงุฑูุฎู", "ุชุซุจูุช ูุคุงุฏ ุงููุจู ๏ทบ ูุงูููุนุธุฉ", "ูุนุฑูุฉ ุฃุนูุงุฑ ุงูุฑุณู", "ุชุนูู ุงููุบุงุช ุงููุฏููุฉ"], c: 1},
                    {q: "'ุฃููู ุงูุจููุฉ' ุงูุฐูู ุฐูุฑุชูู ุงูุขูุงุช ูู ุงููุตูุญูู ุงูุฐูู:", o: ["ุงุนุชุฒููุง ุงููุงุณ", "ููููู ุนู ุงููุณุงุฏ ูู ุงูุฃุฑุถ", "ูุฌูุนูู ุงูุฃููุงู", "ูุชุจุนูู ุงูุธุงูููู"], c: 1}
                ],
                tf: [
                    {q: "ุญููุฉ ุงููู ูู ุงุฎุชูุงู ุงููุงุณ ูู ููุชููุฒ ุงููุญู ูู ุงููุจุทู.", c: true},
                    {q: "ุงูุฑููู ุฅูู ุงูุธุงูููู ุณุจุจ ูู ููู ูุตุฑุฉ ุงููู ููุญุจุชู.", c: false},
                    {q: "ุงูุตูุงุฉ ูู ุทุฑูู ุงูููุงุฑ ูุฒููุงู ูู ุงูููู ูู ุฃุนุธู ุงูุฒุงุฏ ููุงุณุชูุงูุฉ.", c: true},
                    {q: "ุงููู ุบุงูู ุนูุง ูุนูู ุงูุธุงูููู ูุณูู ูุชุฑููู ุจูุง ุญุณุงุจ.", c: false},
                    {q: "ุงูุชููู ุนูู ุงููู ูุญุฏู ูู ููุชุงุญ ุงููุฌุงุญ ููุง ุฎุชูุช ุงูุณูุฑุฉ.", c: true}
                ]
            },
            // Lesson 11
            {
                mcq: [
                    {q: "ุงุนุชูุฏุช ุฎุทุฉ ููุณู ุนููู ุงูุณูุงู ูููุงุฌูุฉ ุงููุญุท ุนูู:", o: ["ุงูุงุณุชูุฑุงุฏ ูู ุงูุฎุงุฑุฌ", "ุงูุฒุฑุงุนุฉ ุงูุฏุคูุจุฉ ูุงูุงุฏุฎุงุฑ ูู ุงูุณูุจู", "ุชุฑู ุงูุฒุฑุงุนุฉ ูุงูุฑุงุญุฉ", "ุชูุฒูุน ูู ุงููุญุตูู ููุฑุงู"], c: 1},
                    {q: "ุฃุจู ููุณู ุนููู ุงูุณูุงู ุงูุฎุฑูุฌ ูู ุงูุณุฌู ุญุชู:", o: ["ูุฃุฎุฐ ูุงูุงู", "ุชุซุจุช ุจุฑุงุกุชู ูุชุธูุฑ ุนูุชู ููุฒุงูุชู", "ูููู ุงูููู", "ูุฎุฑุฌ ุฌููุน ุงููุณุฌูููู"], c: 1},
                    {q: "ุทูุจ ููุณู ุนููู ุงูุณูุงู ููุงูุฉ ุฎุฒุงุฆู ุงูุฃุฑุถ ูุฃูู:", o: ["ูุฑูุฏ ุงูุฌุงู ูุงูุณูุทุงู", "ุญููุธ ุนููู (ุฃููู ูููุก)", "ูุงู ุบููุงู", "ูุญุจ ุงูุณูุทุฑุฉ"], c: 1},
                    {q: "ูุนูู 'ุญุตุญุต ุงูุญู' ูู ูุตุฉ ููุณู:", o: ["ุถุงุน ูููุฏ", "ุธูุฑ ูุงููุดู ูุจุงู", "ุชุฃุฌู ูููุช ุขุฎุฑ", "ุตุงุฑ ูุฐุจุงู"], c: 1},
                    {q: "ุงูุญููุฉ ูู ุญูุธ ุงููุญุตูู ูู 'ุณูุจูู' ูู:", o: ["ููููู ุดููู ุฌูููุงู", "ููุญูุธู ูู ุงูุชูู ูุงูุณูุณ ูุฃุทูู ูุฏุฉ", "ููุตุนุจ ุณุฑูุชู", "ูุฒูุงุฏุฉ ูุฒูู"], c: 1}
                ],
                tf: [
                    {q: "ูุฌูุฒ ุทูุจ ุงูููุตุจ ููู ูุซู ูู ููุงุกุชู ูุฃูุงูุชู ููุตูุญุฉ ุนุงูุฉ.", c: true},
                    {q: "ุงุนุชุฑูุช ุงูุฑุฃุฉ ุงูุนุฒูุฒ ุจุฃููุง ูู ุงูุชู ุฑุงูุฏุช ููุณู ุนู ููุณู.", c: true},
                    {q: "ุงูุชูููู ูู ุงูุฃุฑุถ ูููุณู ูุงู ุจูุญุถ ุงูุตุฏูุฉ ูููุณ ุฌุฒุงุกู ูุฅุญุณุงูู.", c: false},
                    {q: "ุงูููุณ ุงูุจุดุฑูุฉ ุจุทุจุนูุง ุชุฃูุฑ ุจุงูุณูุก ุฅูุง ูู ุฑุญู ุงููู.", c: true},
                    {q: "ุณููุงุช ุงููุญุท (ุงูุดุฏุงุฏ) ุณุจูุช ุณููุงุช ุงูุฎุตุจ ูู ุฑุคูุง ุงูููู.", c: false}
                ]
            },
            // Lesson 12
            {
                mcq: [
                    {q: "ุฅุฎุจุงุฑ ุงููุจู ๏ทบ ุจูุตุฉ ููุณู ุจุงูุชูุตูู ููุนุฏ ุฏูููุงู ุนูู:", o: ["ุฐูุงุฆู ุงูุดุฎุตู", "ุตุฏู ูุจูุชู ูุฃููุง ูุญู ูู ุนูุฏ ุงููู", "ูุฑุงุกุชู ูููุชุจ ุงููุฏููุฉ", "ุณูุงุนู ูููุตุต ูู ุงููุงุณ"], c: 1},
                    {q: "ูููุฌ ุงูุฏุนูุฉ ุงูุฐู ุฑุณูู ุงููู ูููุจู ูุฃุชุจุงุนู ูู ุงูุฏุนูุฉ ุนูู:", o: ["ุจุตูุฑุฉ (ุนูู ููููู ูุญุฌุฉ)", "ุนุงุทูุฉ ูุฌุฑุฏุฉ", "ุฅุฌุจุงุฑ ุงููุงุณ", "ุฌูู ูุชูููุฏ"], c: 0},
                    {q: "ูุนูู ูููู ุชุนุงูู {ููููุง ููุคููููู ุฃูููุซูุฑูููู ุจูุงูููููู ุฅููููุง ููููู ูููุดูุฑูููููู}:", o: ["ุฃููู ูุง ูุคูููู ุจูุฌูุฏ ุงููู", "ููุฑูู ุจุงูุฑุจูุจูุฉ ููุดุฑููู ูู ุงูุนุจุงุฏุฉ (ุงูุฃููููุฉ)", "ุฃููู ูุคูููู ุชูุงูุงู", "ุฃููู ูุดุฑููู ูู ุงูุฑุจูุจูุฉ ููุท"], c: 1},
                    {q: "ูุชุฃุฎุฑ ูุตุฑ ุงููู ููุฑุณู ุฃุญูุงูุงู ูู ุฃุฌู:", o: ["ุชุนุฐูุจ ุงููุคูููู", "ุงุณุชุฏุฑุงุฌ ุงูุธุงูููู ูุชูุญูุต ุงููุคูููู", "ูุณูุงู ุงููู ููู", "ููุฉ ุงูููุงุฑ ุงูุชู ูุง ุชูุบูุจ"], c: 1},
                    {q: "ูุตู ุงููู ุงููุฑุขู ูู ุฎุชุงู ุณูุฑุฉ ููุณู ุจุฃูู:", o: ["ุฃุณุงุทูุฑ ูุฏููุฉ", "ุชุตุฏูู ููุง ุจูู ูุฏูู ูุชูุตูู ููู ุดูุก", "ุญุฏูุซ ููุชุฑู ูููุฐูุจ", "ูุชุงุจ ููุชุงุฑูุฎ ููุท"], c: 1}
                ],
                tf: [
                    {q: "ุงููุฏุงูุฉ ุจูุฏ ุงููู ูุญุฏูุ ูุญุฑุต ุงููุจู ูุง ูุบูุฑ ูุดูุฆุฉ ุงููู.", c: true},
                    {q: "ูุตุต ุงูุฃูุจูุงุก ูู ุงููุฑุขู ูู ูุฌุฑุฏ ุชุณููุฉ ูููุณุช ุนุจุฑุฉ.", c: false},
                    {q: "'ุงุณุชูุฃุณ ุงูุฑุณู' ุชุนูู ุฃููู ุจูุบูุง ุบุงูุฉ ุงููุฃุณ ูู ุฅููุงู ุฃููุงููู.", c: true},
                    {q: "ุชูุญูุฏ ุงูุฑุจูุจูุฉ ูุญุฏู ูุงูู ููุฌุงุฉ ุงูุนุจุฏ ุฏูู ุชูุญูุฏ ุงูุฃููููุฉ.", c: false},
                    {q: "ุงููุฑุขู ุงููุฑูู ูุฏู ูุฑุญูุฉ ูููู ูุคูููู.", c: true}
                ]
            },
            // Lesson 13
            {
                mcq: [
                    {q: "ุงููู ูุนูู ูุง ุชุบูุถ ุงูุฃุฑุญุงูุ ููุนูู 'ุชุบูุถ':", o: ["ุชุฒุฏุงุฏ ูู ุงูุนุฏุฏ", "ุชููุต (ูุงูุณูุท ุฃู ููุต ุงููุฏุฉ)", "ุชุญูุธ ุงูุฌููู", "ุชุฎุฑุฌ ุงูุญููุจ"], c: 1},
                    {q: "'ุงููุนูุจุงุช' ูู ููุงุฆูุฉ ูุธููุชูู:", o: ["ูุชุงุจุฉ ุงูุฑุฒู ููุท", "ุญูุธ ุงูุฅูุณุงู ูู ุงูุฃูุฏุงุฑ ุงูุชู ูู ุชููุชุจ ุนููู", "ุชุนุฐูุจ ุงูููุงุฑ", "ุฅูุฒุงู ุงููุทุฑ"], c: 1},
                    {q: "ุงููุงููู ุงูุงุฌุชูุงุนู {ุฅูููู ุงูููููู ููุง ููุบููููุฑู ููุง ุจููููููู ุญูุชููู ููุบููููุฑููุง ููุง ุจูุฃููููุณููููู} ูุนูู:", o: ["ุงูุชุบููุฑ ูุจุฏุฃ ูู ุงูุธุฑูู ุงูุฎุงุฑุฌูุฉ ููุท", "ุฒูุงู ุงููุนู ูุฑุชุจุท ุจุชุบูุฑ ูููุณ ุงููุงุณ ูุฐููุจูู", "ุงููู ูุบูุฑ ุงููุงุณ ุฏูู ุฅุฑุงุฏุชูู", "ุงูุนูู ูุง ูููุฉ ูู ูู ุงูุชุบููุฑ"], c: 1},
                    {q: "ูุฌูุน 'ุงูุจุฑู' ูู ูููุจ ุงููุงุณ ุจูู:", o: ["ุงููุฑุญ ูุงูุญุฒู", "ุงูุฎูู (ูู ุงูุตูุงุนู) ูุงูุทูุน (ูู ุงููุทุฑ)", "ุงูููู ูุงูููุธุฉ", "ุงูุญุจ ูุงููุฑู"], c: 1},
                    {q: "ุฏุนุงุก ุบูุฑ ุงููู (ูุงูุฃุตูุงู) ูู ุนุฏู ุงูุงุณุชุฌุงุจุฉ ูุดุจู:", o: ["ุงูููู ุงูุฐู ููุณู ุงููุงุก", "ุงูุนุทุดุงู ุงูุฐู ููุฏ ูุฏู ูููุงุก ูู ุจุนูุฏ ููุง ูุจูุบู", "ุงูุบุฑูู ุงูุฐู ููุฌู", "ุงูุธูุขู ุงูุฐู ูุดุฑุจ ุญุชู ูุฑุชูู"], c: 1}
                ],
                tf: [
                    {q: "ุงูุฑุนุฏ ูุณุจุญ ุจุญูุฏ ุงููู ุชุณุจูุญุงู ุญููููุงู ุฏุงูุงู ุนูู ุฎุถูุนู.", c: true},
                    {q: "ุงููุงูุฑ ูุง ูุฎุถุน ููู ููุง ูุณุฌุฏ ูู ุจุฃู ุญุงู ูู ุงูุฃุญูุงู.", c: false},
                    {q: "ุงููู ุนุงูู ุงูุบูุจ ูุงูุดูุงุฏุฉุ ูุณุชูู ุนูุฏู ุงูุณุฑ ูุงูุฌูุฑ.", c: true},
                    {q: "ุงูููุงุฆูุฉ ุชุณุจุญ ูู ุฎููุฉ ุงููู ูุนุธูุชู.", c: true},
                    {q: "ูู ูุง ูู ุงูููู ูุณุฌุฏ ููู ุทูุนุงู ุฃู ูุฑูุงู.", c: true}
                ]
            },
            // Lesson 14
            {
                mcq: [
                    {q: "ูุตู ุงููู ุงููุงูุฑ ูู ููุงุจู 'ุฃููู ุงูุฃูุจุงุจ' ุจุฃูู:", o: ["ุฃุตู", "ุฃุนูู (ุฃุนูู ุงูุจุตูุฑุฉ)", "ุฃุจูู", "ููู"], c: 1},
                    {q: "ูู ุตูุงุช ุฃููู ุงูุฃูุจุงุจ 'ูุฏุฑุคูู ุจุงูุญุณูุฉ ุงูุณูุฆุฉ' ููุนูุงูุง:", o: ["ูุฑุฏูู ุงูุฅุณุงุกุฉ ุจุฅุณุงุกุฉ ุฃูุจุฑ", "ูุฏูุนูู ุงูุณูุฆุฉ ุจุงููุนุฑูู ูุงูุฅุญุณุงู", "ูุชุฌุงูููู ุงููุงุณ ุชูุงูุงู", "ูุชุฑููู ุงูุนูู ุงูุตุงูุญ"], c: 1},
                    {q: "ุทูุฃูููุฉ ุงููููุจ ูุณูููุชูุง ุงูุญููููุฉ ูุง ุชููู ุฅูุง ุจู:", o: ["ุฌูุน ุงูุฃููุงู ูุงููููุฒ", "ุฐูุฑ ุงููู ุนุฒ ูุฌู", "ุงูุณูุฑ ุจูู ุงูุจูุฏุงู", "ูุซุฑุฉ ุงูููุงู"], c: 1},
                    {q: "ุฌุฒุงุก ุฃููู ุงูุฃูุจุงุจ ูู 'ุฌูุงุช ุนุฏู' ููุนูู ุนุฏู:", o: ["ุฅูุงูุฉ ุฏุงุฆูุฉ", "ุชูุฒู ูุคูุช", "ููุงู ูุฌููู", "ุนูู ุดุงู"], c: 0},
                    {q: "ุจุณุท ุงูุฑุฒู ูุชุถูููู ูู ุงูุฏููุง ุฎุงุถุน ูู:", o: ["ุฐูุงุก ุงูุฅูุณุงู ูุญุฏู", "ูุดูุฆุฉ ุงููู ูุญููุชู ููุจุชูู ุนุจุงุฏู", "ุงูุตุฏูุฉ ุงููุญุถุฉ", "ููุฉ ุงููุจููุฉ"], c: 1}
                ],
                tf: [
                    {q: "ุตูุฉ ุงูุฃุฑุญุงู ูุงูููุงุก ุจุงูุนูุฏ ูู ุฃุจุฑุฒ ุตูุงุช ุฃุตุญุงุจ ุงูุนููู ุงูุณูููุฉ.", c: true},
                    {q: "ุงููุฏุงูุฉ ูุฑุชุจุทุฉ ููุท ุจุฑุคูุฉ ุงููุนุฌุฒุงุช ุงูุญุณูุฉ ุงูุฎุงุฑูุฉ.", c: false},
                    {q: "ูุฏุฎู ุงููุคูู ุงูุฌูุฉ ูุน ูู ุตูุญ ูู ุขุจุงุฆู ูุฃุฒูุงุฌู ูุฐุฑูุชู.", c: true},
                    {q: "ููุถ ุงูููุซุงู ูุงููุณุงุฏ ูู ุงูุฃุฑุถ ูู ุตูุงุช ุงูุฃุดููุงุก.", c: true},
                    {q: "ุงูููุงุฆูุฉ ูุง ุนูุงูุฉ ููุง ุจุฃูู ุงูุฌูุฉ ููุง ุชุฑุญุจ ุจูู.", c: false}
                ]
            },
            // Lesson 15
            {
                mcq: [
                    {q: "ุดุจู ุงููู 'ุงููููุฉ ุงูุทูุจุฉ' (ูุง ุฅูู ุฅูุง ุงููู) ุจู:", o: ["ุงููุฎูุฉ (ุฃุตููุง ุซุงุจุช ููุฑุนูุง ูู ุงูุณูุงุก)", "ุดุฌุฑุฉ ุงูุญูุธู", "ุฌุจู ุนุงูู", "ููุฑ ุฌุงุฑู"], c: 0},
                    {q: "ุงูุดุฌุฑุฉ ุงูุฎุจูุซุฉ ุงูุชู 'ุงุฌุชุซุช' ูู ููู ุงูุฃุฑุถ ููุณ ููุง:", o: ["ุฃุบุตุงู", "ูุฑุงุฑ (ุซุจุงุช)", "ููู", "ุธู"], c: 1},
                    {q: "ูุซุจุช ุงููู ุงููุคูููู ุจุงูููู ุงูุซุงุจุช ูู:", o: ["ุงูุฏููุง ููุท", "ุงูุขุฎุฑุฉ ููุท", "ุงูุญูุงุฉ ุงูุฏููุง ููู ุงูุขุฎุฑุฉ (ุนูุฏ ุณุคุงู ุงููุจุฑ)", "ุนูุฏ ุงูููู ููุท"], c: 2},
                    {q: "'ุฏุงุฑ ุงูุจูุงุฑ' ุงูุชู ูุงุฏ ุงูููุงุฑ ููููู ุฅูููุง ูู:", o: ["ุงูููุฑ ูู ุงูุฏููุง", "ุฌููู ูุงูููุงู", "ุงูุณุฌู", "ุงูุบุฑุจุฉ"], c: 1},
                    {q: "ูุงููู ุงูุฒูุงุฏุฉ ูู ุงููุนู ูุฑุชุจุท ุจู:", o: ["ูุซุฑุฉ ุงูุดููู", "ุดูุฑ ุงููู ุชุนุงูู", "ุฅุฎูุงุก ุงููุนูุฉ", "ุฌุญูุฏ ุงููุนูุฉ"], c: 1}
                ],
                tf: [
                    {q: "ุงูุดูุฑ ููุฏ ูููุนู ุงูููุฌูุฏุฉ ูุตูุฏ ูููุนู ุงูููููุฏุฉ.", c: true},
                    {q: "ุงููููุฉ ุงูุฎุจูุซุฉ ููุง ุฃุตู ุฑุงุณุฎ ูู ุงูุฃุฑุถ ููููุฉ ุงูุชูุญูุฏ.", c: false},
                    {q: "ููู ุงูููุงูุฉ ูุง ูููุน ููู ูุฏุงุก ุจุงููุงู ููุง ุชููุน ููู ุตุฏุงูุฉ ุงูุฎูุงู.", c: true},
                    {q: "ููุฑ ุงููุนู ุณุจุจ ูู ุฒูุงููุง ูุญููู ุนุฐุงุจ ุงููู.", c: true},
                    {q: "ุฅูุงูุฉ ุงูุตูุงุฉ ูุงูุฅููุงู ูู ุตูุงุช ุงููุคูููู ุงูุชู ุฃูุฑ ุงููู ุจูุง.", c: true}
                ]
            },
            // Lesson 16
            {
                mcq: [
                    {q: "ุฅููุงู ุงููู ููุธุงูููู ูู ุงูุฏููุง ููุนุฏ:", o: ["ุบููุฉ ููู ุณุจุญุงูู", "ุงุณุชุฏุฑุงุฌุงู ูููู ุชุดุฎุต ููู ุงูุฃุจุตุงุฑ", "ูุญุจุฉ ููู", "ูุณูุงูุงู ูุฃูุนุงููู"], c: 1},
                    {q: "ูุตู ุงููู ูููุจ ุงูุธุงูููู ููู ุงูููุงูุฉ ุจุฃููุง 'ููุงุก' ุฃู:", o: ["ูููุฆุฉ ุจุงูุฃูู", "ูุงุฑุบุฉ ูู ูู ุฎูุฑ ููุณุชุณููุฉ ูููุฒุน ูุงูุฎูู", "ูููุฉ ูุดุฌุงุนุฉ", "ุจุงุฑุฏุฉ ูุง ุชุดุนุฑ"], c: 1},
                    {q: "ุซูุงุจ ุฃูู ุงููุงุฑ (ุณุฑุงุจูููู) ูุตููุนุฉ ูู 'ูุทุฑุงู' ููู:", o: ["ุญุฑูุฑ ุฃุณูุฏ", "ูุญุงุณ ูุฐุงุจ ุดุฏูุฏ ุงูุญุฑุงุฑุฉ", "ุตูู ุฎุดู", "ูุทู ุจุงุฑุฏ"], c: 1},
                    {q: "ูุนูู ูููุฉ 'ููุทุนูู' ูู ูุตู ุญุงู ุงููุงุณ ููู ุงูุญุดุฑ:", o: ["ูุชูุงุณููู", "ูุณุฑุนูู ูุน ุฐู ูุฎุถูุน ูุฑุงูุนู ุฑุกูุณูู", "ุฌุงูุณูู ูู ุตูุช", "ูุฌุฑูู ูู ูู ุงุชุฌุงู"], c: 1},
                    {q: "ุงูุบุงูุฉ ุงูููุงุฆูุฉ ูู ุงููุฑุขู ุงููุฑูู ููุง ุฐูุฑุช ุฎุงุชูุฉ ุงูุณูุฑุฉ:", o: ["ุงูุจูุงุบ ูุงูุฅูุฐุงุฑ ููุนูููุง ุฃููุง ูู ุฅูู ูุงุญุฏ", "ุงูุดุนุฑ ูุงููุซุฑ", "ุงููุตุต ุงูุฎูุงููุฉ", "ุชุนูู ุงูุฎุท ุงูุนุฑุจู"], c: 0}
                ],
                tf: [
                    {q: "ุชุดุฎุต ุงูุฃุจุตุงุฑ ููู ุงูููุงูุฉ ูู ุดุฏุฉ ููู ุงููุดูุฏ ููุง ุชุทุฑู.", c: true},
                    {q: "ูุทูุจ ุงูุธุงูููู ุงูุนูุฏุฉ ููุฏููุง ููุนูู ุงูุตุงูุญ ูููุฌุงุจ ุทูุจูู.", c: false},
                    {q: "'ููุฑููู ูู ุงูุฃุตูุงุฏ' ุชุนูู ุฃู ุงูุธุงูููู ูููุฏูู ุจุงูุณูุงุณู ูุงููููุฏ.", c: true},
                    {q: "ุงููุฑุขู ุงููุฑูู ูู ุฑุณุงูุฉ ุชุฐููุฑ ูุฃุตุญุงุจ ุงูุนููู (ุฃููู ุงูุฃูุจุงุจ).", c: true},
                    {q: "ุงููู ุบุงูู ุนูุง ูุนูู ุงูุธุงูููู ูู ุงูุฏููุง ููู ูุญุงุณุจูู.", c: false}
                ]
            }
        ];

        // Populate fullBank from rawData
        rawData.forEach((lesson, idx) => {
            const lessonNum = idx + 1;
            const title = lessonTitles[idx];
            
            // Add MCQs
            lesson.mcq.forEach((q, i) => {
                fullBank.push({
                    id: `L${lessonNum}-M${i+1}`,
                    lessonId: lessonNum,
                    lessonTitle: title,
                    type: 'mcq',
                    q: q.q,
                    options: q.o,
                    correct: q.c
                });
            });

            // Add TFs
            lesson.tf.forEach((q, i) => {
                fullBank.push({
                    id: `L${lessonNum}-T${i+1}`,
                    lessonId: lessonNum,
                    lessonTitle: title,
                    type: 'tf',
                    q: q.q,
                    correct: q.c
                });
            });
        });

        // --- STATE MANAGEMENT ---
        let appState = {
            totalScore: parseInt(localStorage.getItem('pts')) || 0,
            usedIDs: JSON.parse(localStorage.getItem('used')) || [],
            session: {
                questions: [],
                currentIdx: 0,
                score: 0,
                timer: 30,
                isTour: false,
                locked: false
            }
        };

        let activeInterval;

        // --- UI INITIALIZATION ---
        function initApp() {
            renderLessons();
            updateStats();
        }

        function renderLessons() {
            const grid = document.getElementById('lessonsGrid');
            grid.innerHTML = '';
            lessonTitles.forEach((t, i) => {
                const card = document.createElement('div');
                card.className = "lesson-card glass p-6 rounded-3xl border-2 border-slate-100 cursor-pointer transition-all group";
                card.onclick = () => startSingle(i + 1);
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <span class="bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full text-[10px] font-black uppercase">ุฏุฑุณ ${i+1}</span>
                        <div class="text-[10px] text-slate-300 font-bold">10 ุฃุณุฆูุฉ</div>
                    </div>
                    <h4 class="font-bold text-slate-800 leading-snug h-12 overflow-hidden">${t}</h4>
                `;
                grid.appendChild(card);
            });
        }

        function updateStats() {
            document.getElementById('navScore').innerText = appState.totalScore;
        }

        // --- MODAL & SETTINGS ---
        let tempQCount = 10;
        let tempTimer = 30;

        function openTourModal() { document.getElementById('tourModal').style.display = 'flex'; }
        function closeTourModal() { document.getElementById('tourModal').style.display = 'none'; }
        
        function setTourQCount(n) {
            tempQCount = n;
            document.querySelectorAll('.q-btn').forEach(b => b.classList.replace('bg-indigo-600', 'bg-slate-100'));
            document.querySelectorAll('.q-btn').forEach(b => b.classList.replace('text-white', 'text-slate-500'));
            event.target.classList.replace('bg-slate-100', 'bg-indigo-600');
            event.target.classList.replace('text-slate-500', 'text-white');
        }

        function setTourTimer(n) {
            tempTimer = n;
            document.querySelectorAll('.t-btn').forEach(b => b.classList.replace('bg-indigo-600', 'bg-slate-100'));
            document.querySelectorAll('.t-btn').forEach(b => b.classList.replace('text-white', 'text-slate-500'));
            event.target.classList.replace('bg-slate-100', 'bg-indigo-600');
            event.target.classList.replace('text-slate-500', 'text-white');
        }

        // --- QUIZ ENGINE ---
        function startTourMode() {
            let pool = fullBank.filter(q => !appState.usedIDs.includes(q.id));
            if (pool.length < tempQCount) {
                appState.usedIDs = []; // Reset if not enough new questions
                pool = [...fullBank];
            }
            const selected = pool.sort(() => 0.5 - Math.random()).slice(0, tempQCount);
            launch(selected, true, tempTimer);
            closeTourModal();
        }

        function startSingle(id) {
            const selected = fullBank.filter(q => q.lessonId === id);
            launch(selected, false, 30);
        }

        function launch(qs, isTour, time) {
            appState.session = { questions: qs, currentIdx: 0, score: 0, timer: time, isTour, locked: false };
            document.getElementById('homeView').classList.add('hidden');
            document.getElementById('quizView').classList.remove('hidden');
            document.getElementById('resultView').classList.add('hidden');
            showQ();
        }

        function showQ() {
            const s = appState.session;
            const q = s.questions[s.currentIdx];
            s.locked = false;

            document.getElementById('quizTypeBadge').innerText = s.isTour ? 'ุฌููุฉ ุดุงููุฉ' : 'ุชุญุฏู ุงูุฏุฑุณ';
            document.getElementById('currentLessonTitle').innerText = q.lessonTitle;
            document.getElementById('questionCountText').innerText = `${String(s.currentIdx + 1).padStart(2, '0')}/${s.questions.length}`;
            document.getElementById('questionText').innerText = q.q;
            document.getElementById('feedbackPanel').classList.add('hidden');
            
            const grid = document.getElementById('optionsGrid');
            grid.innerHTML = '';

            if (q.type === 'mcq') {
                q.options.forEach((opt, i) => {
                    const btn = document.createElement('button');
                    btn.className = "option-btn w-full text-right p-5 rounded-2xl border-2 border-slate-100 font-bold bg-white transition-all shadow-sm";
                    btn.innerText = opt;
                    btn.onclick = () => select(i);
                    grid.appendChild(btn);
                });
            } else {
                [{t:'ุตุญูุญ',v:true}, {t:'ุฎุงุทุฆ',v:false}].forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = "option-btn w-full text-right p-6 rounded-2xl border-2 border-slate-100 font-black text-xl bg-white transition-all shadow-sm";
                    btn.innerText = opt.t;
                    btn.onclick = () => select(opt.v);
                    grid.appendChild(btn);
                });
            }

            runTimer();
        }

        function runTimer() {
            clearInterval(activeInterval);
            const bar = document.getElementById('timerBar');
            let remaining = appState.session.timer;
            bar.style.width = '100%';

            activeInterval = setInterval(() => {
                remaining--;
                bar.style.width = (remaining / appState.session.timer * 100) + '%';
                if (remaining <= 0) {
                    clearInterval(activeInterval);
                    if (!appState.session.locked) select(null);
                }
            }, 1000);
        }

        function select(ans) {
            if (appState.session.locked) return;
            appState.session.locked = true;
            clearInterval(activeInterval);

            const q = appState.session.questions[appState.session.currentIdx];
            const isCorrect = (ans === q.correct);
            const panel = document.getElementById('feedbackPanel');

            document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);

            if (isCorrect) {
                appState.session.score++;
                appState.totalScore += 10;
                panel.innerText = "ุฃุญุณูุช! ุฅุฌุงุจุฉ ุตุญูุญุฉ ๐";
                panel.className = "mt-8 p-5 rounded-[2rem] text-center font-bold text-lg bg-green-100 text-green-700 block animate-pulse";
                play('audioCorrect');
                if(!appState.usedIDs.includes(q.id)) appState.usedIDs.push(q.id);
            } else {
                panel.innerText = ans === null ? "ุงูุชูู ุงูููุช! โฐ" : "ุฅุฌุงุจุฉ ุฎุงุทุฆุฉุ ุญุงูู ูู ุงููุฑุฉ ุงููุงุฏูุฉ!";
                panel.className = "mt-8 p-5 rounded-[2rem] text-center font-bold text-lg bg-red-100 text-red-700 block";
                play('audioWrong');
            }

            // Visual Feedback
            const btns = document.querySelectorAll('.option-btn');
            if (q.type === 'mcq') {
                btns.forEach((b, i) => {
                    if (i === q.correct) b.classList.add('correct');
                    else if (i === ans) b.classList.add('wrong');
                });
            } else {
                btns.forEach(b => {
                    const isTrue = (b.innerText === 'ุตุญูุญ');
                    if (isTrue === q.correct) b.classList.add('correct');
                    else if (ans !== null && isTrue === ans) b.classList.add('wrong');
                });
            }

            saveData();
            updateStats();

            // Auto-transition after 3 seconds
            setTimeout(() => {
                appState.session.currentIdx++;
                if (appState.session.currentIdx < appState.session.questions.length) {
                    showQ();
                } else {
                    finish();
                }
            }, 3000);
        }

        function abortQuiz() {
            if (confirm('ูู ุชุฑูุฏ ุฅูุบุงุก ุงูุฌููุฉ ุงูุญุงููุฉ ูุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉุ')) {
                clearInterval(activeInterval);
                location.reload();
            }
        }

        function finish() {
            document.getElementById('quizView').classList.add('hidden');
            document.getElementById('resultView').classList.remove('hidden');
            const s = appState.session.score;
            const t = appState.session.questions.length;
            document.getElementById('resultText').innerText = `ููุฏ ุฃุฌุจุช ุนูู ${s} ูู ${t} ุจุดูู ุตุญูุญ!`;
            if (s/t >= 0.8) confetti({ particleCount: 150, spread: 70 });
        }

        function play(id) {
            const a = document.getElementById(id);
            if (a) { a.currentTime = 0; a.play().catch(()=>{}); }
        }

        function saveData() {
            localStorage.setItem('pts', appState.totalScore);
            localStorage.setItem('used', JSON.stringify(appState.usedIDs));
        }

        function resetData() {
            if (confirm('ุณูุชู ุญุฐู ูุงูุฉ ุงูููุงุท ูุงูุชูุฏูุ ูู ุฃูุช ูุชุฃูุฏุ')) {
                localStorage.clear();
                location.reload();
            }
        }

        window.onload = initApp;
    </script>
</body>
</html>