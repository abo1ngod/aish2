<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الصفحة الرئيسية</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #f8fafc; }
        .noselect { user-select: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col justify-between">

    <!-- المحتوى الرئيسي -->
    <main class="flex-grow flex flex-col items-center justify-center p-6 gap-8">
        
        <!-- المنطقة السرية (النص) -->
        <div class="max-w-4xl w-full text-center">
            <div id="secret-zone" onclick="handleSecretClick()" class="relative group cursor-pointer noselect p-8 rounded-xl hover:bg-slate-100 transition duration-300">
                <span class="inline-block p-3 rounded-full bg-blue-50 text-blue-500 mb-6 shadow-sm">
                    <i class="fas fa-quote-right text-2xl"></i>
                </span>
                <h1 id="displayed-text" class="text-3xl md:text-5xl font-bold text-slate-800 leading-relaxed whitespace-pre-wrap">
                    جاري التحميل...
                </h1>
                <p class="text-slate-300 text-xs mt-8 opacity-0 group-hover:opacity-50 transition-opacity">
                    (انقر 5 مرات للتعديل)
                </p>
            </div>
        </div>

        <!-- جديد: صندوق إحصائيات التسبيح -->
        <div class="w-full max-w-2xl bg-white rounded-2xl shadow-lg border border-gray-100 p-6">
            <h3 class="text-center font-bold text-gray-800 mb-6 text-xl border-b pb-4">
                <i class="fas fa-chart-pie ml-2 text-purple-600"></i> إحصائيات التسبيح العامة
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                <!-- إحصائية سبحان الله -->
                <div class="bg-emerald-50 p-4 rounded-xl border border-emerald-100">
                    <div class="text-emerald-600 font-bold mb-1">سبحان الله</div>
                    <div id="stat-subhan" class="text-2xl font-bold text-emerald-800">0</div>
                    <div class="text-xs text-emerald-400 mt-1">من aish1</div>
                </div>
                <!-- إحصائية الحمد لله -->
                <div class="bg-sky-50 p-4 rounded-xl border border-sky-100">
                    <div class="text-sky-600 font-bold mb-1">الحمد لله</div>
                    <div id="stat-hamd" class="text-2xl font-bold text-sky-800">0</div>
                    <div class="text-xs text-sky-400 mt-1">من aish2</div>
                </div>
                <!-- إحصائية الله أكبر -->
                <div class="bg-amber-50 p-4 rounded-xl border border-amber-100">
                    <div class="text-amber-600 font-bold mb-1">الله أكبر</div>
                    <div id="stat-akbar" class="text-2xl font-bold text-amber-800">0</div>
                    <div class="text-xs text-amber-400 mt-1">من aish3</div>
                </div>
            </div>
        </div>

    </main>

    <!-- قائمة الصفحات الفرعية -->
    <footer class="bg-white border-t border-gray-200 p-4 shadow-inner">
        <div class="container mx-auto flex flex-wrap justify-center gap-4 text-sm font-bold text-gray-600">
            <a href="aish1.html" class="flex items-center gap-2 hover:text-emerald-600 transition px-4 py-3 bg-gray-50 hover:bg-emerald-50 rounded-xl border border-gray-100">
                <i class="fas fa-leaf text-emerald-500"></i> سبحان الله (aish1)
            </a>
            <a href="aish2.html" class="flex items-center gap-2 hover:text-sky-600 transition px-4 py-3 bg-gray-50 hover:bg-sky-50 rounded-xl border border-gray-100">
                <i class="fas fa-cloud text-sky-500"></i> الحمد لله (aish2)
            </a>
            <a href="aish3.html" class="flex items-center gap-2 hover:text-amber-600 transition px-4 py-3 bg-gray-50 hover:bg-amber-50 rounded-xl border border-gray-100">
                <i class="fas fa-star text-amber-500"></i> الله أكبر (aish3)
            </a>
        </div>
    </footer>

    <!-- نافذة تسجيل الدخول (نفس الكود السابق) -->
    <div id="login-modal" class="fixed inset-0 bg-slate-900/60 z-50 hidden items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-sm text-center">
            <h3 class="text-xl font-bold text-gray-800 mb-4">وضع المسؤول</h3>
            <input type="password" id="password-input" class="w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 text-center mb-4" placeholder="كلمة المرور" onkeyup="if(event.key === 'Enter') checkPassword()">
            <div class="flex gap-3">
                <button onclick="checkPassword()" class="flex-1 bg-blue-600 text-white font-bold py-2 rounded-lg">دخول</button>
                <button onclick="closeLoginModal()" class="flex-1 bg-gray-100 text-gray-600 font-bold py-2 rounded-lg">إلغاء</button>
            </div>
        </div>
    </div>

    <!-- لوحة التحكم (نفس الكود السابق) -->
    <div id="admin-dashboard" class="fixed inset-0 bg-slate-50 z-40 hidden flex-col">
        <header class="bg-white border-b border-gray-200 p-4 flex justify-between items-center shadow-sm">
            <h2 class="font-bold text-lg">تحرير النص</h2>
            <button onclick="logout()" class="text-red-500 font-bold">خروج</button>
        </header>
        <div class="flex-grow p-6">
            <textarea id="admin-textarea" class="w-full h-full p-4 text-xl border rounded-xl" placeholder="اكتب النص الجديد..."></textarea>
        </div>
        <div class="p-4 bg-white border-t flex justify-end">
            <button onclick="saveAndClose()" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-xl">حفظ</button>
        </div>
    </div>

    <script>
        // === تهيئة البيانات ===
        const CONFIG = { key: 'secret_screen_content', pass: '123', default: 'أهلاً بك في الصفحة الرئيسية.' };
        
        window.addEventListener('DOMContentLoaded', () => {
            // تحميل النص
            document.getElementById('displayed-text').innerText = localStorage.getItem(CONFIG.key) || CONFIG.default;
            
            // تسجيل زيارة
            let views = parseInt(localStorage.getItem('views_count') || '0');
            localStorage.setItem('views_count', views + 1);

            // === تحميل إحصائيات التسبيح ===
            document.getElementById('stat-subhan').innerText = localStorage.getItem('tasbeeh_subhan') || '0';
            document.getElementById('stat-hamd').innerText = localStorage.getItem('tasbeeh_hamd') || '0';
            document.getElementById('stat-akbar').innerText = localStorage.getItem('tasbeeh_akbar') || '0';
        });

        // === منطق النقر السري ===
        let clickCount = 0;
        let clickTimer;
        function handleSecretClick() {
            clickCount++;
            clearTimeout(clickTimer);
            if (clickCount >= 5) {
                document.getElementById('login-modal').classList.replace('hidden', 'flex');
                clickCount = 0;
            } else {
                clickTimer = setTimeout(() => clickCount = 0, 500);
            }
        }

        function closeLoginModal() {
            document.getElementById('login-modal').classList.replace('flex', 'hidden');
        }

        function checkPassword() {
            const input = document.getElementById('password-input').value;
            if (input === CONFIG.pass) {
                let success = parseInt(localStorage.getItem('success_login_count') || '0');
                localStorage.setItem('success_login_count', success + 1);
                openDashboard();
            } else {
                let fails = parseInt(localStorage.getItem('fail_login_count') || '0');
                localStorage.setItem('fail_login_count', fails + 1);
                let logs = JSON.parse(localStorage.getItem('fail_logs') || '[]');
                logs.unshift({ pass: input, time: new Date().toLocaleString('ar-SA') });
                localStorage.setItem('fail_logs', JSON.stringify(logs));
                alert('كلمة المرور خاطئة!');
                document.getElementById('password-input').value = '';
            }
        }

        function openDashboard() {
            closeLoginModal();
            document.getElementById('admin-textarea').value = document.getElementById('displayed-text').innerText;
            document.getElementById('admin-dashboard').classList.replace('hidden', 'flex');
        }

        function saveAndClose() {
            const txt = document.getElementById('admin-textarea').value;
            localStorage.setItem(CONFIG.key, txt);
            document.getElementById('displayed-text').innerText = txt;
            logout();
        }

        function logout() {
            document.getElementById('admin-dashboard').classList.replace('flex', 'hidden');
        }
    </script>
</body>
</html>


